# ============================================================================
# GhostClass Environment Variables
# ============================================================================
# Copy this file to `.env` and fill in your actual values.
# NEVER commit the `.env` file to version control!
#
# Required variables are marked with ‚ö†Ô∏è
# Optional variables are marked with ‚ÑπÔ∏è
# ============================================================================

# ----------------------------------------------------------------------------
# PUBLIC APP CONFIGURATION
# ----------------------------------------------------------------------------
# These variables are exposed to the browser and used throughout the app.

# ‚ö†Ô∏è Application name displayed in UI and emails
NEXT_PUBLIC_APP_NAME=GhostClass

# ‚ö†Ô∏è Your production domain (without https://)
NEXT_PUBLIC_APP_DOMAIN=ghostclass.devakesu.com

# ‚ö†Ô∏è Full app URL (auto-generated from domain above)
NEXT_PUBLIC_APP_URL=https://${NEXT_PUBLIC_APP_DOMAIN}

# ‚ÑπÔ∏è Sitemap URL for SEO (auto-generated)
NEXT_PUBLIC_SITEMAP_URL=${NEXT_PUBLIC_APP_URL}/sitemap.xml

# ‚ÑπÔ∏è Author/maintainer information
NEXT_PUBLIC_AUTHOR_NAME=@deva.kesu
NEXT_PUBLIC_AUTHOR_URL=https://devakesu.com

# ‚ÑπÔ∏è Contact email displayed in footer
NEXT_PUBLIC_APP_EMAIL=contact@${NEXT_PUBLIC_APP_DOMAIN}

# ‚ÑπÔ∏è GitHub repository URL
NEXT_PUBLIC_GITHUB_URL=https://github.com/devakesu/GhostClass

# ‚ö†Ô∏è Legal inquiries email
NEXT_PUBLIC_LEGAL_EMAIL=legal@${NEXT_PUBLIC_APP_DOMAIN}

# ----------------------------------------------------------------------------
# SECURITY & ENCRYPTION
# ----------------------------------------------------------------------------
# Critical security variables - handle with extreme care!

# ‚ö†Ô∏è ENCRYPTION_KEY - Used for AES-256-GCM encryption of tokens
# MUST be exactly 64 hexadecimal characters (32 bytes)
# Generate with: openssl rand -hex 32
# ‚ö†Ô∏è NEVER share this key! Changing it will invalidate all encrypted data.
ENCRYPTION_KEY=

# ‚ö†Ô∏è CRON_SECRET - Authorization token for automated sync jobs
# Generate with: openssl rand -base64 32
# Used in: /api/cron/sync endpoint
CRON_SECRET=

# ‚ö†Ô∏è GHOST_PASSWORD_SALT - Salt for generating Supabase shadow account passwords
# Generate with: openssl rand -hex 32
# Used in: /api/auth/save-token to create deterministic passwords
# ‚ö†Ô∏è CRITICAL: Changing this will lock out all existing users!
GHOST_PASSWORD_SALT=

# ----------------------------------------------------------------------------
# LEGAL & COMPLIANCE
# ----------------------------------------------------------------------------

# ‚ÑπÔ∏è Effective date for Terms of Service and Privacy Policy
NEXT_PUBLIC_LEGAL_EFFECTIVE_DATE=January 1, 2026

# ----------------------------------------------------------------------------
# EZYGO INTEGRATION
# ----------------------------------------------------------------------------
# EzyGo is the upstream attendance API (read-only, no credentials needed here)

# ‚ö†Ô∏è EzyGo API base URL - DO NOT CHANGE unless EzyGo migrates
NEXT_PUBLIC_BACKEND_URL=https://production.api.ezygo.app/api/v1/Xcr45_salt/

# ----------------------------------------------------------------------------
# UPSTASH REDIS (RATE LIMITING)
# ----------------------------------------------------------------------------
# Used for API rate limiting. Get your credentials from: https://upstash.com
# Free tier: 10,000 commands/day

# ‚ö†Ô∏è Upstash Redis REST API URL
# Example: https://your-redis-instance.upstash.io
UPSTASH_REDIS_REST_URL=

# ‚ö†Ô∏è Upstash Redis REST API Token (starts with "A...")
UPSTASH_REDIS_REST_TOKEN=

# ----------------------------------------------------------------------------
# SUPABASE (DATABASE & AUTHENTICATION)
# ----------------------------------------------------------------------------
# Get credentials from: https://supabase.com/dashboard
# Project Settings > API

# ‚ö†Ô∏è Your Supabase project URL
# Example: https://abcdefghijklmnop.supabase.co
NEXT_PUBLIC_SUPABASE_URL=

# ‚ö†Ô∏è Supabase Anonymous (public) key
# Safe to expose to browser - used for client-side auth
# Starts with: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
NEXT_PUBLIC_SUPABASE_ANON_KEY=

# ‚ö†Ô∏è Supabase Service Role key (ADMIN ACCESS - NEVER EXPOSE TO BROWSER!)
# Used for server-side operations that bypass Row Level Security (RLS)
# Only use in API routes and server components
# Starts with: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
SUPABASE_SERVICE_ROLE_KEY=

# ----------------------------------------------------------------------------
# CLOUDFLARE TURNSTILE (CAPTCHA)
# ----------------------------------------------------------------------------
# Get keys from: https://dash.cloudflare.com/?to=/:account/turnstile
# Used on: Contact form, login form (prevents bot abuse)

# ‚ö†Ô∏è WARNING: The keys below are TESTING KEYS that ALWAYS PASS validation!
# They are provided by Cloudflare for local development ONLY.
# 
# üö® YOU MUST REPLACE THESE WITH PRODUCTION KEYS BEFORE DEPLOYING! üö®
# 
# Production keys start with: 0x4AAAAAAA... (site key) and 0x4AAAAAAA... (secret)
# Test keys ALWAYS allow bots through - use ONLY in development!

# ‚ö†Ô∏è Turnstile Site Key (visible in browser)
# Testing key (always passes): 1x00000000000000000000AA
# Get production key from: https://dash.cloudflare.com/
NEXT_PUBLIC_TURNSTILE_SITE_KEY=1x00000000000000000000AA

# ‚ö†Ô∏è Turnstile Secret Key (server-side only - NEVER expose to browser!)
# Testing key (always passes): 1x0000000000000000000000000000000AA
TURNSTILE_SECRET_KEY=1x0000000000000000000000000000000AA

# ----------------------------------------------------------------------------
# EMAIL SERVICES (DUAL-PROVIDER FAILOVER)
# ----------------------------------------------------------------------------
# GhostClass uses two email providers for redundancy:
# - SendPulse (Primary)
# - Brevo (Fallback)
# At least ONE must be configured for contact forms and notifications to work.

# ‚ÑπÔ∏è SENDPULSE - Primary email provider
# Get credentials from: https://sendpulse.com/integrations/api
# Dashboard > Settings > API > Create new credentials

# SendPulse Client ID (looks like: abc123def456)
SENDPULSE_CLIENT_ID=

# SendPulse Client Secret (looks like: xyz789abc123)
SENDPULSE_CLIENT_SECRET=

# ‚ÑπÔ∏è BREVO (formerly Sendinblue) - Fallback email provider
# Get API key from: https://app.brevo.com/settings/keys/api
# Free tier: 300 emails/day

# Brevo API Key (starts with: xkeysib-)
BREVO_API_KEY=

# ----------------------------------------------------------------------------
# SENTRY (ERROR TRACKING & MONITORING)
# ----------------------------------------------------------------------------
# Get credentials from: https://sentry.io/settings/
# Used for: Crash reporting, performance monitoring, error alerts

# ‚ö†Ô∏è Sentry Organization slug (from your Sentry URL)
# Example: If your URL is sentry.io/organizations/devakesu/, use "devakesu"
SENTRY_ORG=devakesu

# ‚ö†Ô∏è Sentry Project slug
# Example: If your project is sentry.io/.../ghostclass/, use "ghostclass"
SENTRY_PROJECT=ghostclass

# ‚ö†Ô∏è Sentry Auth Token (for uploading source maps during build)
# Create at: https://sentry.io/settings/account/api/auth-tokens/
# Required scopes: project:read, project:releases, org:read
# Starts with: sntrys_...
SENTRY_AUTH_TOKEN=

# ‚ö†Ô∏è Sentry DSN (Data Source Name) - Public key for browser error reporting
# Found at: Sentry Project Settings > Client Keys (DSN)
# Example: https://abc123@o123456.ingest.sentry.io/7654321
# Safe to expose to browser
NEXT_PUBLIC_SENTRY_DSN=

# ----------------------------------------------------------------------------
# GOOGLE ANALYTICS (OPTIONAL)
# ----------------------------------------------------------------------------
# Get from: https://analytics.google.com/
# Format: G-XXXXXXXXXX (GA4 measurement ID)

# ‚ÑπÔ∏è Google Analytics 4 Measurement ID (optional, for usage analytics)
# Example: G-ABC123XYZ
NEXT_PUBLIC_GA_ID=

# ============================================================================
# QUICK START GUIDE
# ============================================================================
# 1. Copy this file:
#    cp .example.env .env
#
# 2. Generate security keys:
#    openssl rand -hex 32  # For ENCRYPTION_KEY (64 chars)
#    openssl rand -hex 32  # For GHOST_PASSWORD_SALT (64 chars)
#    openssl rand -base64 32  # For CRON_SECRET
#
# 3. Set up Supabase:
#    - Create project at https://supabase.com
#    - Run: npx supabase link --project-ref <your-project-id>
#    - Run: npx supabase db push
#    - Copy API keys from Project Settings > API
#
# 4. Set up Upstash Redis:
#    - Create database at https://upstash.com
#    - Copy REST URL and Token
#
# 5. Set up Cloudflare Turnstile:
#    - Get production keys from https://dash.cloudflare.com/
#    - Replace test keys with real ones
#
# 6. (Optional) Set up email providers:
#    - Configure at least one: SendPulse OR Brevo
#    - Both can be used for automatic failover
#
# 7. (Optional) Set up monitoring:
#    - Sentry for error tracking
#    - Google Analytics for usage stats
#
# ============================================================================
# SECURITY CHECKLIST
# ============================================================================
# ‚úÖ .env file is in .gitignore
# ‚úÖ ENCRYPTION_KEY is 64 hex characters
# ‚úÖ GHOST_PASSWORD_SALT is 64 hex characters
# ‚úÖ Turnstile keys are PRODUCTION keys (not 1x00...)
# ‚úÖ SUPABASE_SERVICE_ROLE_KEY is never exposed to browser
# ‚úÖ All secrets are stored in environment variables (not hardcoded)
# ‚úÖ Production secrets are different from development secrets
# ============================================================================