npm run verify-version
npx lint-staged

# Always sync critical secrets (like version)
# Full secret sync is opt-in: export SYNC_SECRETS=1
# Auto-skipped in CI environments
if [ -z "$CI" ]; then
  if [ "$SYNC_SECRETS" = "1" ]; then
    echo "ðŸ“¦ Syncing all secrets to GitHub..."
    echo ""
    node scripts/sync-secrets.js
    echo ""
  else
    echo "ðŸ”„ Auto-syncing critical secrets (NEXT_PUBLIC_APP_VERSION)..."
    echo ""
    SYNC_CRITICAL_ONLY=1 node scripts/sync-secrets.js
    echo ""
  fi
fi
