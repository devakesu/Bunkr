#!/usr/bin/env sh

# Get the current branch name
branch_name="$(git rev-parse --abbrev-ref HEAD 2>/dev/null || echo "")"

# Only run bump-version if the branch name looks like it contains a version
# e.g., "v1.2.3" or "1.2.3"
if printf '%s\n' "$branch_name" | grep -Eq 'v?[0-9]+\.[0-9]+\.[0-9]+'; then
  npm run bump-version
fi

exit 0
